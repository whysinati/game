var game=function(){var i=document.getElementById("canvas"),e=i.getContext("2d"),t={x:0,y:475,h:25,w:25,fill:"#fff",dir:"right",speed:5};return{player:function(){e.fillStyle=t.fill,"right"===t.dir?(e.clearRect(t.x-t.speed,t.y-1,t.w+2,t.h+2),e.fillRect(t.x=t.x+t.speed,t.y,t.w,t.h),t.x+t.w>=i.width&&(t.dir="left")):(e.clearRect(t.x+t.speed,t.y-1,t.w+2,t.h+2),e.fillRect(t.x=t.x-t.speed,t.y,t.w,t.h),t.x<=0&&(t.dir="right"))},changeDirection:function(){"left"===t.dir?t.dir="right":"right"===t.dir&&(t.dir="left")},animate:function(){this.player(),window.requestAnimationFrame(this.animate.bind(this))},init:function(){i.height=600,i.width=800,this.animate()}}}();game.init(),window.addEventListener("keyup",function(){game.changeDirection()});