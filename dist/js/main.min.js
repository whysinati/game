var game=function(){var e=document.getElementById("canvas"),i=e.getContext("2d"),t={x:0,y:475,h:25,w:25,fill:"#fff",dir:"right",speed:5},n={x:50,y:0,h:10,w:10,fill:"#ff0",speed:5};return{player:function(){i.fillStyle=t.fill,"right"===t.dir?(i.clearRect(t.x-t.speed,t.y-1,t.w+2,t.h+2),i.fillRect(t.x=t.x+t.speed,t.y,t.w,t.h),t.x+t.w>=e.width&&(t.dir="left")):(i.clearRect(t.x+t.speed,t.y-1,t.w+2,t.h+2),i.fillRect(t.x=t.x-t.speed,t.y,t.w,t.h),t.x<=0&&(t.dir="right"))},changeDirection:function(){"left"===t.dir?t.dir="right":"right"===t.dir&&(t.dir="left")},animate:function(){this.player(),i.fillStyle=n.fill,i.clearRect(n.x-1,n.y-n.speed,n.w+2,n.h+2),i.fillRect(n.x,n.y=n.y+n.speed,n.w,n.h),window.requestAnimationFrame(this.animate.bind(this))},init:function(){e.height=600,e.width=800,this.animate()}}}();game.init(),window.addEventListener("keyup",function(){game.changeDirection()});